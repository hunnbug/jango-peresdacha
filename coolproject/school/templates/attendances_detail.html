{% extends 'base.html' %}

{% block title %}–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å - {{ attendance.student.surname }} - –®–∫–æ–ª–∞ ‚Ññ3{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</h5>
            </div>
            <div class="card-body text-center">
                <div class="display-1 fw-bold {% if attendance.status == 'P' %}text-success{% else %}text-danger{% endif %}">
                    {% if attendance.status == 'P' %}‚úÖ{% else %}‚ùå{% endif %}
                </div>
                <p class="fs-4 {% if attendance.status == 'P' %}text-success{% else %}text-danger{% endif %}">
                    {{ attendance.get_status_display }}
                </p>
            </div>
            <div class="card-body">
                <table class="table table-borderless">
                    <tr>
                        <td><strong>–î–∞—Ç–∞:</strong></td>
                        <td>{{ attendance.date|date:"d.m.Y" }}</td>
                    </tr>
                    <tr>
                        <td><strong>–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏:</strong></td>
                        <td>{{ attendance.schedule.get_day_of_week_display }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card mb-3">
            <div class="card-header">
                <h5 class="mb-0">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Ä–æ–∫–µ</h5>
            </div>
            <div class="card-body">
                <table class="table table-borderless">
                    <tr>
                        <td><strong>–ü—Ä–µ–¥–º–µ—Ç:</strong></td>
                        <td>{{ attendance.schedule.subject.name }}</td>
                    </tr>
                    <tr>
                        <td><strong>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å:</strong></td>
                        <td>{{ attendance.schedule.teacher }}</td>
                    </tr>
                    <tr>
                        <td><strong>–í—Ä–µ–º—è:</strong></td>
                        <td>{{ attendance.schedule.start_time|time:"H:i" }} - {{ attendance.schedule.end_time|time:"H:i" }}</td>
                    </tr>
                    <tr>
                        <td><strong>–ö–∞–±–∏–Ω–µ—Ç:</strong></td>
                        <td>{{ attendance.schedule.room }}</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–Ω–∏–∫–µ</h5>
            </div>
            <div class="card-body">
                <table class="table table-borderless">
                    <tr>
                        <td><strong>–£—á–µ–Ω–∏–∫:</strong></td>
                        <td>{{ attendance.student.surname }} {{ attendance.student.first_name }} {{ attendance.student.last_name }}</td>
                    </tr>
                    <tr>
                        <td><strong>–ö–ª–∞—Å—Å:</strong></td>
                        <td>
                            {% if attendance.student.class_group %}
                                {{ attendance.student.class_group.grade }}{{ attendance.student.class_group.letter }}
                            {% else %}
                                <span class="text-muted">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</span>
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td><strong>ID —É—á–µ–Ω–∏–∫–∞:</strong></td>
                        <td>{{ attendance.student.student_id }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">–î–µ–π—Å—Ç–≤–∏—è</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2 d-md-flex">
                    <a href="{% url 'attendance_update' attendance.pk %}" class="btn btn-warning">
                        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{% url 'attendance_delete' attendance.pk %}" class="btn btn-danger">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                    </a>
                    <a href="{% url 'attendance_list' %}" class="btn btn-secondary">
                        ‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}