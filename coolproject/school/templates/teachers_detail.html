{% extends 'base.html' %}

{% block title %}{{ teacher }} - –®–∫–æ–ª–∞ ‚Ññ3{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3 class="mb-0">–£—á–∏—Ç–µ–ª—å: {{ teacher }}</h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        {% if teacher.photo %}
                            <img src="{{ teacher.photo.url }}" class="img-fluid rounded" alt="–§–æ—Ç–æ —É—á–∏—Ç–µ–ª—è">
                        {% else %}
                            <div class="bg-secondary rounded d-flex align-items-center justify-content-center" style="height: 200px;">
                                <span class="text-white fs-1">üë§</span>
                            </div>
                        {% endif %}
                    </div>
                    <div class="col-md-8">
                        <table class="table table-borderless">
                            <tr>
                                <td><strong>ID:</strong></td>
                                <td>{{ teacher.teacher_id }}</td>
                            </tr>
                            <tr>
                                <td><strong>–§–ò–û:</strong></td>
                                <td>{{ teacher.surname }} {{ teacher.first_name }} {{ teacher.last_name }}</td>
                            </tr>
                            <tr>
                                <td><strong>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</strong></td>
                                <td>{{ teacher.date_of_birth|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}</td>
                            </tr>
                            <tr>
                                <td><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong></td>
                                <td>{{ teacher.phone|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</td>
                            </tr>
                            <tr>
                                <td><strong>Email:</strong></td>
                                <td>{{ teacher.email|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</td>
                            </tr>
                            <tr>
                                <td><strong>–ü—Ä–µ–¥–º–µ—Ç:</strong></td>
                                <td>{{ teacher.subject|default:"–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω" }}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                
                <hr>
                
                <h5>–ö–ª–∞—Å—Å–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å:</h5>
                {% if teacher.classes.all %}
                    <div class="row">
                        {% for class in teacher.classes.all %}
                        <div class="col-md-6 mb-2">
                            <div class="card bg-light">
                                <div class="card-body py-2">
                                    <p class="mb-0">{{ class }}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="alert alert-warning">
                        –ù–µ —è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å–Ω—ã–º —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º
                    </div>
                {% endif %}

                {% comment %} {% if request.user.is_authentificated %} {% endcomment %}
                <form method="post" action="{% url 'basket_add' teacher.pk %}">
                {% csrf_token %}
                {{ form_basket }}
                <button type="submit" class="btn btn-success">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                </form>
                {% comment %} {% endif %} {% endcomment %}
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">–î–µ–π—Å—Ç–≤–∏—è</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <a href="{% url 'teacher_update' teacher.pk %}" class="btn btn-warning">
                        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{% url 'teacher_delete' teacher.pk %}" class="btn btn-danger">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                    </a>
                    <a href="{% url 'teacher_list' %}" class="btn btn-secondary">
                        ‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}