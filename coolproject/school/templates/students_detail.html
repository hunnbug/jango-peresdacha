{% extends 'base.html' %}

{% block title %}{{ student.surname }} {{ student.first_name }} - –®–∫–æ–ª–∞ ‚Ññ3{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-4">
        <div class="card">
            <div class="card-body text-center">
                {% if student.photo %}
                    <img src="{{ student.photo.url }}" alt="–§–æ—Ç–æ —É—á–µ–Ω–∏–∫–∞" class="img-fluid rounded-circle mb-3" style="width: 150px; height: 150px; object-fit: cover;">
                {% else %}
                    <div class="bg-secondary rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 150px; height: 150px;">
                        <span class="text-white fs-1">üë§</span>
                    </div>
                {% endif %}
                <h4>{{ student.surname }} {{ student.first_name }} {{ student.last_name }}</h4>
                <p class="text-muted">ID: {{ student.student_id }}</p>
            </div>
        </div>
    </div>

    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <table class="table table-borderless">
                            <tr>
                                <td><strong>–§–∞–º–∏–ª–∏—è:</strong></td>
                                <td>{{ student.surname }}</td>
                            </tr>
                            <tr>
                                <td><strong>–ò–º—è:</strong></td>
                                <td>{{ student.first_name }}</td>
                            </tr>
                            <tr>
                                <td><strong>–û—Ç—á–µ—Å—Ç–≤–æ:</strong></td>
                                <td>{{ student.last_name }}</td>
                            </tr>
                            <tr>
                                <td><strong>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</strong></td>
                                <td>{{ student.date_of_birth|date:"d.m.Y" }}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <table class="table table-borderless">
                            <tr>
                                <td><strong>–ö–ª–∞—Å—Å:</strong></td>
                                <td>
                                    {% if student.class_group %}
                                        {{ student.class_group.grade }}{{ student.class_group.letter }}
                                    {% else %}
                                        <span class="text-muted">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</span>
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <td><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong></td>
                                <td>{{ student.phone|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</td>
                            </tr>
                            <tr>
                                <td><strong>–ê–¥—Ä–µ—Å:</strong></td>
                                <td>{{ student.address|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <hr>

                <h6>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–æ–¥–∏—Ç–µ–ª—è—Ö</h6>
                <table class="table table-borderless">
                    <tr>
                        <td><strong>–†–æ–¥–∏—Ç–µ–ª—å:</strong></td>
                        <td>
                            {% if student.parent_name %}
                                {{ student.parent_name }} {{ student.parent_middlename }}
                            {% else %}
                                <span class="text-muted">–ù–µ —É–∫–∞–∑–∞–Ω</span>
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td><strong>–¢–µ–ª–µ—Ñ–æ–Ω —Ä–æ–¥–∏—Ç–µ–ª—è:</strong></td>
                        <td>{{ student.parent_phone|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">–î–µ–π—Å—Ç–≤–∏—è</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2 d-md-flex">
                    <a href="{% url 'student_update' student.pk %}" class="btn btn-warning">
                        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </a>
                    <a href="{% url 'student_delete' student.pk %}" class="btn btn-danger">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                    </a>
                    <a href="{% url 'student_list' %}" class="btn btn-secondary">
                        ‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}